% Document Settings
\documentclass[14pt, a4paper, oneside]{extbook}
%\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\usepackage[
	top=2cm,
	bottom=2cm,
	left=2cm,
	right=2cm,
	headheight=17pt,
	includehead, includefoot,
	footskip=50pt
]{geometry} 


% AMS Packages
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}



% graphicx
\usepackage{graphicx}
\graphicspath{{../images/}}

\newcommand{\img}[1]{%
	\ %
	\raisebox{-0.1\baselineskip}{%
		\includegraphics[
		height=\baselineskip,
		width=\baselineskip,
		keepaspectratio,
		]{#1}%
	}%
	\ %
}


% Font and Indent
\usepackage{indentfirst}
\setlength{\parindent}{2em}
\linespread{1.1}

\usepackage{fontspec}
\usepackage{xeCJK}
\setCJKfamilyfont{ming}{新細明體}
\setCJKfamilyfont{kai}{標楷體}
\setCJKfamilyfont{hei}{Taipei Sans TC Beta}
\setCJKmainfont{標楷體}
\setCJKsansfont{Noto Sans CJK TC}
%\setCJKsansfont{Taipei Sans TC Beta}
%\setCJKmonofont{Taipei Sans TC Beta}


%\setmainfont{Times New Roman}
\setsansfont{Aller}
\setmonofont{Consolas}

% Floats, Figures, Tables, ...
\usepackage[table]{xcolor}
\usepackage{float}
\usepackage[justification=centering, labelfont=sf, textfont=sf]{caption}



\renewcommand{\figurename}{圖}

\usepackage{array}
\usepackage{booktabs}
\usepackage{multirow}
%\usepackage{tabularx}
\renewcommand{\tablename}{表}

\setlength{\arrayrulewidth}{1pt}
\arrayrulecolor{black}
\renewcommand{\arraystretch}{1.5}

\usepackage{makecell}
\renewcommand{\theadfont}{\bfseries}
\newcommand{\Thline}{\Xhline{2\arrayrulewidth}}
\newcolumntype{V}{!{\vrule width 2\arrayrulewidth}}

%\newcolumntype{S}{>{\global\let\currentrowstyle\relax}}
%\newcolumntype{C}{>{\currentrowstyle}}
%\newcommand{\rowstyle}[1]{\gdef\currentrowstyle{#1}%
%	#1\ignorespaces
%}

% Code
\usepackage[chapter]{minted}
\setminted{
	linenos,
	breaklines=true, 
	breakbefore=.,
	autogobble,
	tabsize=4,
}


% tcolorbox
\usepackage[breakable, minted, skins]{tcolorbox}

%
\renewcommand{\listingscaption}{程式碼}
\renewcommand{\theFancyVerbLine}{\ttfamily{\footnotesize{\arabic{FancyVerbLine}}}} % redefine style of line numbers
\newtcblisting{src}{
	listing only,
	breakable,
	enhanced,
	listing engine=minted,
	minted language=LaTeX,
%	minted style=colorful,
	minted options = {
		linenos, 
		breaklines=true, 
		breakbefore=., 
		numbersep=3.75mm,
		autogobble,
		tabsize=4
	},
	drop fuzzy shadow,
	left=7mm,
	arc=2pt,
	overlay = {
		\begin{tcbclipinterior}
			\fill[gray!25] (frame.south west) rectangle ([xshift=7mm]frame.north west);
		\end{tcbclipinterior}
	}  
}



% hyperref
\usepackage{hyperref}
\hypersetup{
	colorlinks=true,
	linkcolor=black,
	filecolor=magenta,   
	urlcolor=blue
}

% Header
\usepackage{fancyhdr}
\fancypagestyle{plain}{
	\renewcommand{\headrulewidth}{0pt}
	\renewcommand{\footrulewidth}{0pt}
	\fancyhf{}
	\rhead{\ttfamily\thepage}
%	\rfoot{\includegraphics[width=10em]{/logo/\arabic{page}.jpg}}
}
\fancypagestyle{fancy}{
	\renewcommand{\headrulewidth}{2pt}
	\renewcommand{\footrulewidth}{2pt}
	\fancyhf{}
	\rhead{\ttfamily\thepage}
	\lhead{\leftmark}
%	\cfoot{\leftmark}
	\rfoot{\includegraphics[width=5em]{/logo/\arabic{page}.jpg}}
}
\pagestyle{fancy}


% Chemistry and Physics
\usepackage{chemfig}
\usepackage[american]{circuitikz}


%zhnumber
\usepackage{zhnumber}


% Counters
\usepackage{chngcntr}
\counterwithin{chapter}{part}
\renewcommand{\thechapter}{\arabic{chapter}}


% Title Styles
\usepackage{titlesec}
\titleformat{\chapter}[frame]{\normalfont\huge\bfseries}{第\ \thechapter\ 章}{20pt}{\Huge}
\titlespacing{\chapter}{0pt}{-10pt}{40pt}
\titleformat{\section}
{\normalfont\Large\bfseries}{\thesection}{1em}{}
%\titleformat{\part}[]


% Debug
%\usepackage{lipsum}
%\usepackage{showframe}

% UNUSED
%\usepackage{moreenum}


% make sure \LaTeX is in \textrm
\let\tmpLaTeX\LaTeX
\renewcommand{\LaTeX}{\textrm{\tmpLaTeX}}


% \maketitle
\title{
	\sffamily\Huge \LaTeX\ 祕笈
}

\author{
	\sffamily\LARGE 武陵資訊讀書會 \\\\
	\fontspec{Torus}{}\LARGE GPwaob\_92679
}
\date{}

% \tableofcontents
\renewcommand{\contentsname}{目錄 Table Of Contents}





\begin{document}
%	\maketitle
	\begin{titlepage}
		\begin{center}
			\sffamily
			
%			\vspace*{1cm}
%			temp title design
			\begin{tcolorbox}[
				halign=flush center,
				drop fuzzy shadow,
				arc=2pt,
				height=4cm,
				valign=center]
				\Huge \LaTeX\ 祕笈
			\end{tcolorbox}
			
			\vspace*{1cm}
		
			{\fontsize{24pt}{\baselineskip}\selectfont 武陵資訊讀書會 - \fontspec{Torus}{}GPwaob\_92679}
			
			\vfill
			
%			temp image
			\includegraphics[width=0.8\textwidth]{readme/science.png}
		
		
		\end{center}
	\end{titlepage}

	\tableofcontents

	\part{前言}
	\chapter*{作者介紹}
		
	\chapter*{推薦序}
			
			
			
		
		
		
		
		
	\chapter{\LaTeX 簡介}
		歡迎各位讀者進入\LaTeX 的世界！你現在正在閱讀的這份祕笈就是用\LaTeX 排版出來的喔！
	\section{什麼是\LaTeX ？}
		\LaTeX 是一款基於\TeX 的排版系統，
	\section{為什麼要學\LaTeX ？}
		\LaTeX 不管是作數理報告，或是....，甚至...
%			譜、化學、棋譜、樂譜
	\section{\LaTeX 究竟有多強大？}
		
	\section{\LaTeX 的優缺點？}
		優點：
		\begin{itemize}
			\item 完全免費
			\item 
			\item 
			\item 
		\end{itemize}
			
		缺點：
		\begin{itemize}
			\item 嵌入圖片與表格很麻煩，格式很難調。
			\item 
			\item 
			\item 		
		\end{itemize}

	\section{\LaTeX vs. Microsoft Word}
		下表為......陣營的\LaTeX 選手與......陣營的Microsoft Word選手大比拚：
		
		
		\begin{table}[h]
			\centering
			\rowcolors{2}{gray!10}{gray!20}
			\begin{tabular}{V >{\raggedright\arraybackslash}p{30ex} | >{\raggedright\arraybackslash}p{30ex} V}
				\Thline
				\rowcolor{cyan!50} LaTeX \ \LaTeX & Microsoft Word \img{part1/ms_word.png} \\
				\hline
				aaa & aaa \\
				\hline
				bbb & bbb \\
				\hline
				ccc & ccc \\
				\hline
				ddd & ddd \\
				\Thline
			\end{tabular}
			
% insert microsoft word meme
% 程式碼 vs WYSIWYG
			\caption{\LaTeX\ vs. Microsoft Word 大比拚}
			\label{tab:LaTeX vs MSWORD}
			
		\end{table}
			

			
	\chapter{環境初始設定}
		\LaTeX 並非一個獨立運行的程式，而是仰賴許多其他
		
		
		
		
		
		
		
			
	\part{\LaTeX 入門}
			
	\chapter{寫出你的第一份 \LaTeX ！}
	\section{Hello, World! in \LaTeX}

		\begin{listing}[h]
			\begin{src}
				\documentclass{article}
				\begin{document}
					Hello, World!
				\end{document}
			\end{src}
			\caption{\sffamily Hello World! in \LaTeX}
			\label{lst:Hello_World}
		\end{listing}
		

	
\end{document}